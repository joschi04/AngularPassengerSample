<h1>Passenger Search</h1>

<div class="row">
    <div class="card">
        <form #f="ngForm"
              publicPeople="Merkel">
            <div class="form-group">
                <label>Name:</label>
                <input [(ngModel)]="searchName" 
                       name="searchName" 
                       required 
                       minlength="3" 
                       passengerNames="Muster"
                       x="1"
                       class="form-control">
                <passenger-validation-errors [f]="f"></passenger-validation-errors>
                
            </div>
            
            <div class="form-group">
                <button 
                    class="btn btn-default"
                    (click)="search()" 
                    >Search</button>
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div *ngFor="let p of passengers" class="col col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <passenger-card [item]="p" [(selected)]="passengersSelected[p.id]" (editChange)="edit($event)"></passenger-card>
    </div>
</div>

<div class="row">
    <div class="card">
        {{passengersSelected | json}}
    </div>
</div>

<div class="row">
    <div class="card" *ngIf="selectedPassenger !== undefined">
        <pre>{{ selectedPassenger | json }}</pre>
    </div>
</div>

<div class="row">
    <div class="card" *ngIf="selectedPassenger !== undefined">

        <input type="hidden" [(ngModel)]="selectedPassenger.id" class="form-control">
        <div class="form-group">
            <label>Name:</label>
            <input [(ngModel)]="selectedPassenger.name" class="form-control">
        </div>
        <div class="form-group">
            <label>FirstName:</label>
            <input [(ngModel)]="selectedPassenger.firstName" class="form-control">
        </div>
        <div class="form-group">
            <label>BonusMiles:</label>
            <input [(ngModel)]="selectedPassenger.bonusMiles" class="form-control">
        </div>
        <div class="form-group">
            <label>PassengerStatus:</label>
            <input [(ngModel)]="selectedPassenger.passengerStatus" class="form-control">
        </div>
        <div class="form-group">
            <button 
                class="btn btn-default"
                (click)="save()" 
                [disabled]="selectedPassenger === undefined">Save</button>
        </div>
        <div>{{postResult}}</div>
    </div>
</div>
