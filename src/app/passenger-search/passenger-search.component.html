<h1>Passenger Search</h1>

<div class="card">

    <div class="form-group">
        <label>Name:</label>
        <input [(ngModel)]="searchName" class="form-control">
    </div>
    
    <div class="form-group">
        <button 
            class="btn btn-default"
            (click)="search()" 
            >Search</button>
    </div>


</div>

<div class="card">
    <label>Results:</label>
    <table class="table table-contensed">
        <!--
            [ngClass]="{ 'active': 'f === selectedFlight'  }" 
        -->
        <tr *ngFor="let p of passengers" [class.active]="p === selectedPassenger">
            <td>{{p.id}}</td>
            <td>{{p.name}}</td>
            <td>{{p.firstName}}</td>
            <td>{{p.bonusMiles}}</td>
            <td>{{p.passengerStatus}}</td>
            <td><a (click)="select(p)">Select</a></td>
        </tr>
    </table>

</div>

<div class="class" *ngIf="selectedPassenger !== undefined">
    <pre>{{ selectedPassenger | json }}</pre>
</div>

<div class="card" *ngIf="selectedPassenger !== undefined">

    <input type="hidden" [(ngModel)]="selectedPassenger.id" class="form-control">
    <div class="form-group">
        <label>Name:</label>
        <input [(ngModel)]="selectedPassenger.name" class="form-control">
    </div>
    <div class="form-group">
        <label>FirstName:</label>
        <input [(ngModel)]="selectedPassenger.firstName" class="form-control">
    </div>
    <div class="form-group">
        <label>BonusMiles:</label>
        <input [(ngModel)]="selectedPassenger.bonusMiles" class="form-control">
    </div>
    <div class="form-group">
        <label>PassengerStatus:</label>
        <input [(ngModel)]="selectedPassenger.passengerStatus" class="form-control">
    </div>
    <div class="form-group">
        <button 
            class="btn btn-default"
            (click)="save()" 
            [disabled]="selectedPassenger === undefined">Save</button>
    </div>
    <div>{{postResult}}</div>
</div>
